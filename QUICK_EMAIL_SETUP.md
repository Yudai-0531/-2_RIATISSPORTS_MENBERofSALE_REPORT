# ğŸ“§ ãƒ¡ãƒ¼ãƒ«é€šçŸ¥æ©Ÿèƒ½ - ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ğŸ¯ ç›®çš„

å–¶æ¥­ãƒ¡ãƒ³ãƒãƒ¼ãŒæ—¥å ±ã‚’æå‡ºã—ãŸã‚‰ã€**official.riatis.sports@gmail.com** ã«è‡ªå‹•ã§ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚

---

## âš¡ æœ€é€Ÿã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰

### Step 1: Supabase SQLå®Ÿè¡Œ

Supabase Dashboard â†’ SQL Editor ã§ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œ:

```sql
-- ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’å®Ÿè¡Œ
supabase-email-notification-setup.sql
```

ã“ã‚Œã§Database Triggerï¼ˆæ—¥å ±ä¿å­˜æ™‚ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚’è‡ªå‹•èµ·å‹•ï¼‰ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚

---

### Step 2: Edge Functionãƒ‡ãƒ—ãƒ­ã‚¤

#### 2-1. Supabase CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g supabase
```

#### 2-2. ãƒ­ã‚°ã‚¤ãƒ³ & ãƒªãƒ³ã‚¯

```bash
supabase login
supabase link --project-ref ujoyyhhgvdlfvmlnnpwz
```

#### 2-3. Edge Function ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
supabase functions deploy send-report-notification
```

#### 2-4. Gmailè¨­å®š

**Gmail App Passwordã‚’å–å¾—:**

1. https://myaccount.google.com/ â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
2. 2æ®µéšèªè¨¼ã‚’æœ‰åŠ¹åŒ–
3. ã‚¢ãƒ—ãƒªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ
   - ã‚¢ãƒ—ãƒª: ãƒ¡ãƒ¼ãƒ«
   - ãƒ‡ãƒã‚¤ã‚¹: ONE TEAM
4. 16æ¡ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼

**ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š:**

```bash
supabase secrets set SMTP_HOST=smtp.gmail.com
supabase secrets set SMTP_PORT=587
supabase secrets set SMTP_USER=official.riatis.sports@gmail.com
supabase secrets set SMTP_PASSWORD=ç”Ÿæˆã—ãŸ16æ¡ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
```

---

### Step 3: ãƒ†ã‚¹ãƒˆ

1. ONE TEAMã«ãƒ­ã‚°ã‚¤ãƒ³
2. æ—¥å ±ç”»é¢ã§é©å½“ãªæ•°å€¤ã‚’å…¥åŠ›
3. ã€Œä¿å­˜ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. `official.riatis.sports@gmail.com` ã«ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã‹ç¢ºèª

---

## âœ‰ï¸ ãƒ¡ãƒ¼ãƒ«å†…å®¹

**ä»¶å:**
```
[ONE TEAM] æ—¥å ±æå‡ºé€šçŸ¥ - å–¶æ¥­å¤ªéƒ
```

**æœ¬æ–‡:**
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ONE TEAM æ—¥å ±æå‡ºé€šçŸ¥
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ—¥å ±ãŒæå‡ºã•ã‚Œã¾ã—ãŸ

æå‡ºè€…: å–¶æ¥­å¤ªéƒ
æå‡ºæ—¥æ™‚: 2026-01-08 18:30:45
å¯¾è±¡æ—¥: 2026-01-08

ğŸ“ˆ æœ¬æ—¥ã®KPIå®Ÿç¸¾
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° å£²ä¸Šé‡‘é¡: Â¥500,000
ğŸ“§ ã‚ªãƒ•ã‚¡ãƒ¼æ•°: 10 ä»¶
ğŸ¤ å•†è«‡æ•°: 5 ä»¶
âœ… æˆç´„æ•°: 2 ä»¶
ğŸ“º RIATISè¦–è´æ•°: 8 å›
â±ï¸ CRMæ“ä½œæ™‚é–“: 120 åˆ†

ğŸ¯ æ˜æ—¥ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ˜æ—¥ã¯æ–°è¦é¡§å®¢3ç¤¾ã«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã¾ã™
```

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„

**1. Edge Functionãƒ­ã‚°ç¢ºèª**
```bash
supabase functions logs send-report-notification
```

**2. Triggerç¢ºèª**
```sql
SELECT * FROM pg_trigger WHERE tgname = 'trigger_notify_report_submission';
```

**3. Gmail App Passwordã®å†ç¢ºèª**
- ã‚¹ãƒšãƒ¼ã‚¹ãªã—ã§å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹
- æ­£ã—ã„16æ¡ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‹

**4. ã‚¹ãƒ‘ãƒ ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèª**

---

## ğŸ“¦ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
webapp/
â”œâ”€â”€ supabase-email-notification-setup.sql  # Database Triggerè¨­å®š
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ functions/
â”‚       â””â”€â”€ send-report-notification/
â”‚           â””â”€â”€ index.ts                   # ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ email-notification.js              # ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â””â”€â”€ report.js                          # æ—¥å ±ä¿å­˜æ™‚ã«é€šçŸ¥å‘¼ã³å‡ºã—
â””â”€â”€ report.html                            # ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿
```

---

## ğŸš€ å®Œäº†ï¼

ã“ã‚Œã§å–¶æ¥­ãƒ¡ãƒ³ãƒãƒ¼ãŒæ—¥å ±ã‚’ä¿å­˜ã™ã‚‹ãŸã³ã«ã€è‡ªå‹•ã§ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒ `official.riatis.sports@gmail.com` ã«å±Šãã¾ã™ã€‚

---

**ä½œæˆæ—¥**: 2026-01-08  
**æ‰€è¦æ™‚é–“**: ç´„10åˆ†
