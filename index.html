<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>ONE TEAM - Login</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/icons/favicon-48x48.png">
    
    <!-- Apple Touch Icons - Production icon with cache busting for Vercel (public folder fix) -->
    <link rel="apple-touch-icon" href="/production-icon-2026.jpg?v=vercel_public_fix">
    <link rel="apple-touch-icon" sizes="180x180" href="/production-icon-2026.jpg?v=vercel_public_fix">
    <link rel="apple-touch-icon" sizes="167x167" href="/production-icon-2026.jpg?v=vercel_public_fix">
    
    <!-- Android/Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512x512.png">
    
    <!-- PWA Manifest - Disabled for iOS to prevent icon/color conflicts -->
    <!-- <link rel="manifest" href="/manifest.json"> -->
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ONE TEAM">
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="login-container">
        <h1 class="app-title">ONE TEAM</h1>
        <p class="app-subtitle">日々の積み上げを、チームの力に</p>
        
        <form id="loginForm" class="login-form">
            <div class="form-group">
                <label for="userId">USER ID</label>
                <input type="text" id="userId" name="userId" required>
            </div>
            
            <div class="form-group">
                <label for="password">PASSWORD</label>
                <input type="password" id="password" name="password" required>
            </div>
            
            <button type="submit" class="btn-login">LOGIN</button>
        </form>
        
        <div class="admin-link">
            <a href="admin.html">管理者ログイン</a>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/auth.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('ServiceWorker registered:', registration))
                    .catch(err => console.log('ServiceWorker registration failed:', err));
            });
        }
    </script>
</body>
</html>
